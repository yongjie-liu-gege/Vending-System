<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Vending Anywhere</title>
    <link rel="stylesheet" href="Vending-System/main/styles.css">
    <!-- 引入 ECharts -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>
    <!-- 顶部导航栏 -->
    <header class="top-header">
        <div class="logo">
            <img src="path/to/logo.png" alt="Smart Vending Anywhere">
            <span>Smart Vending Anywhere</span>
        </div>
        <div class="header-right">
            <span class="time">2024-12-28 星期四</span>
            <span class="user">星期六</span>
            <div class="header-icons">
                <a href="#" class="icon-item">数据看板</a>
                <a href="#" class="icon-item">帮助</a>
                <a href="#" class="icon-item">设置</a>
                <a href="#" class="icon-item">退出</a>
            </div>
        </div>
    </header>

    <div class="main-container">
        <!-- 左侧菜单 -->
        <nav class="side-menu">
            <div class="menu-header">
                <i class="fas fa-chart-bar"></i>
                <span>SVA 报表输出</span>
            </div>
            <ul class="menu-list">
                <li>
                    <details>
                        <summary>
                            <i class="fas fa-tasks"></i>
                            日常业务
                        </summary>
                        <ul class="submenu-list">
                            <li><a href="#" class="submenu-link"><i class="fas fa-chart-line"></i> 数据看板</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-users"></i> 用户管理</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-tachometer-alt"></i> 计量点管理</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-bolt"></i> 追补电量</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-plug"></i> 售电</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-key"></i> STS测试Token</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-shield-alt"></i> 维护Token</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-lock"></i> 更改密钥Token</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-dollar-sign"></i> 费率修改</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-gift"></i> 免费充值代码</a></li>
                        </ul>
                    </details>
                </li>
                <li>
                    <details>
                        <summary>
                            <i class="fas fa-store"></i>
                            售电站
                        </summary>
                        <ul class="submenu-list">
                            <li><a href="#" class="submenu-link"><i class="fas fa-plus-circle"></i> 注册售电站</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-cogs"></i> 售电站管理</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-desktop"></i> 售电站终端</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-wallet"></i> 账户充值</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-file-contract"></i> 取消售电合同</a></li>
                        </ul>
                    </details>
                </li>
                <li>
                    <details>
                        <summary>
                            <i class="fas fa-money-bill-wave"></i>
                            分账支付管理
                        </summary>
                        <ul class="submenu-list">
                            <li><a href="#" class="submenu-link"><i class="fas fa-project-diagram"></i> 欠款项目</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-file-signature"></i> 欠款合同</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-hand-holding-usd"></i> 支付欠款</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-tasks"></i> 欠款调整审核</a></li>
                        </ul>
                    </details>
                </li>
                <li>
                    <details>
                        <summary>
                            <i class="fas fa-file-invoice-dollar"></i>
                            财务管理
                        </summary>
                        <ul class="submenu-list">
                            <li><a href="#" class="submenu-link"><i class="fas fa-comments-dollar"></i> 售电对话</a></li>
                        </ul>
                    </details>
                </li>
                <li>
                    <details>
                        <summary>
                            <i class="fas fa-user-tie"></i>
                            代理商管理
                        </summary>
                        <ul class="submenu-list">
                            <li><a href="#" class="submenu-link"><i class="fas fa-users-cog"></i> 代理商</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-wallet"></i> 充值</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-search"></i> 事务查询</a></li>
                        </ul>
                    </details>
                </li>
                <li>
                    <details>
                        <summary>
                            <i class="fas fa-warehouse"></i>
                            表计库存管理
                        </summary>
                        <ul class="submenu-list">
                            <li><a href="#" class="submenu-link"><i class="fas fa-boxes"></i> 仓库管理</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-file-import"></i> 电表导入</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-sign-in-alt"></i> 电表入库</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-sign-out-alt"></i> 电表出库</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-exchange-alt"></i> 库存转移</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-search"></i> 电表查看</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-warehouse"></i> 仓库查看</a></li>
                        </ul>
                    </details>
                </li>
                <li>
                    <details>
                        <summary>
                            <i class="fas fa-network-wired"></i>
                            HES接口管理
                        </summary>
                        <ul class="submenu-list">
                            <li><a href="#" class="submenu-link"><i class="fas fa-sliders-h"></i> 抄表参数</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-list"></i> 指令列表</a></li>
                        </ul>
                    </details>
                </li>
                <li>
                    <details>
                        <summary>
                            <i class="fas fa-info-circle"></i>
                            基本信息
                        </summary>
                        <ul class="submenu-list">
                            <li><a href="#" class="submenu-link"><i class="fas fa-cogs"></i> 运行参数</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-key"></i> 密码规则</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-database"></i> 数据字典</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-map-marked-alt"></i> 区域管理</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-tachometer-alt"></i> 电表型号</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-money-bill"></i> 费用定义</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-percentage"></i> 费率定义</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-users"></i> 客户类型</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-file-excel"></i> Excel导入</a></li>
                        </ul>
                    </details>
                </li>
                <li>
                    <details>
                        <summary>
                            <i class="fas fa-cog"></i>
                            系统信息
                        </summary>
                        <ul class="submenu-list">
                            <li><a href="#" class="submenu-link"><i class="fas fa-building"></i> 部门管理</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-user-lock"></i> 角色权限管理</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-users-cog"></i> 用户管理</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-desktop"></i> 主界面管理</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-language"></i> 语言定义</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-globe"></i> 语言包</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-history"></i> 系统日志</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-info-circle"></i> 系统信息</a></li>
                            <li><a href="#" class="submenu-link"><i class="fas fa-tachometer-alt"></i> 控制面板</a></li>
                        </ul>
                    </details>
                </li>
            </ul>
        </nav>

        <!-- 主要内容区域 -->
        <main class="content">
            <!-- 添加视频容器，默认隐藏 -->
            <div id="videoSection" style="display: none;">
                <div class="video-container">
                    <video id="localVideo" controls width="100%">
                        <source src="Vending-System/main/videos/1.mov" type="video/quicktime">
                        您的浏览器不支持 HTML5 视频播放
                    </video>
                </div>
            </div>

            <!-- 空白的数据概览部分，默认显示 -->
            <div id="dataOverview">
                <div class="page-header">
                    <h2>刚果布现场实施照片</h2>
                </div>
                
                <!-- 培训开会板块 -->
                <div class="photo-section">
                    <h3>培训开会</h3>
                    <div class="photo-slider-container">
                        <button class="slider-arrow prev-arrow">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <div class="photo-grid">
                            <div class="photo-slider">
                                <div class="photo-item">
                                    <img src="images/1.jpeg" alt="培训开会照片1" loading="lazy">
                                </div>
                                <div class="photo-item">
                                    <img src="images/5.jpeg" alt="培训开会照片5" loading="lazy">
                                </div>
                                <div class="photo-item">
                                    <img src="images/6.jpeg" alt="培训开会照片6" loading="lazy">
                                </div>
                                <div class="photo-item">
                                    <img src="images/8.jpeg" alt="培训开会照片8" loading="lazy">
                                </div>
                                <div class="photo-item">
                                    <img src="images/9.jpeg" alt="培训开会照片9" loading="lazy">
                                </div>
                            </div>
                        </div>
                        <button class="slider-arrow next-arrow">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>

                <!-- 设备安装板块 -->
                <div class="photo-section">
                    <h3>设备安装</h3>
                    <div class="photo-slider-container">
                        <button class="slider-arrow prev-arrow">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <div class="photo-grid">
                            <div class="photo-slider">
                                <div class="photo-item">
                                    <img src="images/2.jpeg" alt="设备安装照片2" loading="lazy">
                                </div>
                                <div class="photo-item">
                                    <img src="images/10.jpeg" alt="设备安装照片10" loading="lazy">
                                </div>
                                <div class="photo-item">
                                    <img src="images/11.jpeg" alt="设备安装照片11" loading="lazy">
                                </div>
                                <div class="photo-item">
                                    <img src="images/12.jpeg" alt="设备安装照片12" loading="lazy">
                                </div>
                                <div class="photo-item">
                                    <img src="images/13.jpeg" alt="设备安装照片13" loading="lazy">
                                </div>
                            </div>
                        </div>
                        <button class="slider-arrow next-arrow">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- 在 body 标签结束前添加模态框 -->
    <div id="imageModal" class="modal">
        <span class="modal-close">&times;</span>
        <img class="modal-content" id="modalImage">
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // 子菜单点击处理
        const submenuLinks = document.querySelectorAll('.submenu-link');
        let currentActive = null;

        submenuLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                
                // 移除所有子菜单的活动状态
                submenuLinks.forEach(item => {
                    item.classList.remove('active');
                });
                
                // 添加当前点击项的活动状态
                this.classList.add('active');
                currentActive = this;

                // 显示视频部分
                const videoSection = document.getElementById('videoSection');
                const dataOverview = document.getElementById('dataOverview');
                
                if (videoSection && dataOverview) {
                    videoSection.style.display = 'block';
                    dataOverview.style.display = 'none';
                    
                    // 获取视频元素并播放
                    const video = document.getElementById('localVideo');
                    if (video) {
                        video.src = 'Vending-System/main/videos/1.mov';
                        video.load();
                        video.play().catch(function(error) {
                            console.log("视频自动播放失败:", error);
                        });
                    }
                }

                // 更新页面标题
                const menuName = this.textContent.trim();
                document.querySelector('.page-header h2').textContent = menuName;
            });
        });

        // 修改返回按钮
        const videoSection = document.getElementById('videoSection');
        if (videoSection) {
            const backButton = document.createElement('button');
            backButton.textContent = '返回照片时光';
            backButton.className = 'back-button';
            backButton.onclick = function() {
                videoSection.style.display = 'none';
                document.getElementById('dataOverview').style.display = 'block';
                // 移除当前选中状态
                if (currentActive) {
                    currentActive.classList.remove('active');
                    currentActive = null;
                }
                // 恢复原始标题为"刚果布现场实施照片"
                document.querySelector('.page-header h2').textContent = '刚果布现场实施照片';
            };
            videoSection.insertBefore(backButton, videoSection.firstChild);
        }

        // 处理照片滑动
        const sliders = document.querySelectorAll('.photo-slider-container');
        
        sliders.forEach(container => {
            const slider = container.querySelector('.photo-slider');
            const prevBtn = container.querySelector('.prev-arrow');
            const nextBtn = container.querySelector('.next-arrow');
            let currentPosition = 0;
            const itemWidth = 320; // 照片宽度 + 间距
            const visibleItems = Math.floor(container.offsetWidth / itemWidth);
            const maxPosition = slider.children.length - visibleItems;

            // 更新箭头显示状态
            function updateArrows() {
                prevBtn.style.display = currentPosition <= 0 ? 'none' : 'flex';
                nextBtn.style.display = currentPosition >= maxPosition ? 'none' : 'flex';
            }

            // 初始化箭头状态
            updateArrows();

            // 下一张
            nextBtn.addEventListener('click', () => {
                if (currentPosition < maxPosition) {
                    currentPosition++;
                    slider.style.transform = `translateX(-${currentPosition * itemWidth}px)`;
                    updateArrows();
                }
            });

            // 上一张
            prevBtn.addEventListener('click', () => {
                if (currentPosition > 0) {
                    currentPosition--;
                    slider.style.transform = `translateX(-${currentPosition * itemWidth}px)`;
                    updateArrows();
                }
            });

            // 窗口大小改变时重新计算
            window.addEventListener('resize', () => {
                currentPosition = 0;
                slider.style.transform = `translateX(0)`;
                updateArrows();
            });
        });

        // 处理图片点击放大
        const modal = document.getElementById('imageModal');
        const modalImg = document.getElementById('modalImage');
        const closeBtn = document.querySelector('.modal-close');
        const photoItems = document.querySelectorAll('.photo-item img');

        photoItems.forEach(img => {
            img.addEventListener('click', function() {
                modal.style.display = "block";
                modalImg.src = this.src;
            });
        });

        // 点击关闭按钮关闭模态框
        closeBtn.addEventListener('click', function() {
            modal.style.display = "none";
        });

        // 点击模态框背景关闭模态框
        modal.addEventListener('click', function(e) {
            if (e.target === modal) {
                modal.style.display = "none";
            }
        });

        // ESC 键关闭模态框
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && modal.style.display === 'block') {
                modal.style.display = 'none';
            }
        });
    });
    </script>
</body>
</html>
